
@model DSU21_2.ViewModels.ExhibitionsViewModel

<script src="https://aframe.io/releases/1.0.0/aframe.min.js"></script>
<script src="https://unpkg.com/aframe-event-set-component@5.0.0/dist/aframe-event-set-component.min.js"></script>
<script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
<script src="https://cdn.rawgit.com/donmccurdy/aframe-extras/v4.1.2/dist/aframe-extras.min.js"></script>
<script src="https://unpkg.com/aframe-look-at-component@0.6.0/dist/aframe-look-at-component.min.js"></script>

<a-assets>
    <a-asset-item id="this-nav-mesh" src="/assets/3d_rooms/exhibitionRoom2/navmesh.gltf"></a-asset-item>
    <a-asset-item id="frames" src="/assets/3d_rooms/exhibitionRoom2/models/frame/frame.gltf"></a-asset-item>
    <a-assets-item id="doors" src="/assets/3d_rooms/exhibitionRoom2/models/door/scene.gltf"></a-assets-item>
    <a-assets-item id="flower" src="/assets/3d_rooms/exhibitionRoom2/models/flower/scene.gltf"></a-assets-item>
    <a-asset-item id="exit" src="/assets/3d_rooms/exhibitionRoom1/models/exit/scene.gltf"></a-asset-item>
    <img id="conc-floor-ao" src="/assets/3d_rooms/exhibitionRoom2/textures/floorWall/Concrete030_1K_AmbientOcclusion.jpg">
    <img id="conc-floor-color" src="/assets/3d_rooms/exhibitionRoom2/textures/floorWall/Concrete030_1K_Color.jpg">
    <img id="conc-floor-dis" src="/assets/3d_rooms/exhibitionRoom2/textures/floorWall/Concrete030_1K_Displacement.jpg">
    <img id="conc-floor-nor" src="/assets/3d_rooms/exhibitionRoom2/textures/floorWall/Concrete030_1K_Normal.jpg">
    <img id="conc-floor-rou" src="/assets/3d_rooms/exhibitionRoom2/textures/floorWall/Concrete030_1K_Roughness.jpg">
    <img id="roof-color" src="/assets/3d_rooms/exhibitionRoom2/textures/ceiling/Plaster001_1K_Color.jpg">
    <img id="roof-dis" src="/assets/3d_rooms/exhibitionRoom2/textures/ceiling/Plaster001_1K_Displacement.jpg">
    <img id="roof-nor" src="/assets/3d_rooms/exhibitionRoom2/textures/ceiling/Plaster001_1K_Normal.jpg">
    <img id="roof-rou" src="/assets/3d_rooms/exhibitionRoom2/textures/ceiling/Plaster001_1K_Roughness.jpg">

    @for (int i = 0; i < Model.Exhibitions.Artworks.Count; i++)
    {
        string id = $"art{i}";
        <img id="@id" class="pictures" src="@Model.Exhibitions.Artworks[i].Hyperlink" crossorigin="anonymous" />
    }

</a-assets>


<a-scene inspector-plugin-recast>

    <!--Kamera-->
    <a-entity movement-controls="speed: 0.5; constrainToNavMesh: true" position="0 0 4.8" rotation="0 0 0">
        <a-entity camera position="0 2 0" look-controls="pointerLockEnabled: true">
            <a-cursor id="cursor" raycaster="far: 7;"></a-cursor>
        </a-entity>
    </a-entity>

    <a-entity gltf-model="#this-nav-mesh" nav-mesh position="0 0 0" visible="false"></a-entity>

    <!--Golv-->
    <a-plane id="floor" rotation="-90 0 0" geometry="height:10;width:10;" material="
      displacementBias:0;
      displacementScale:0;
      ambientOcclusionMap: #conc-floor-ao;
      displacementMap: #conc-floor-dis;
      normalMap: #conc-floor-nor;
      roughnessMap: #conc-floor-rou;
      src:#conc-floor-color;
      repeat:2 2;
      ambientOcclusionTextureRepeat: 2 2;
      displacementTextureRepeat: 2 2;
      normalTextureRepeat: 2 2;
      roughnessTextureRepeat: 2 2;">

    </a-plane>

    <!--Tak-->
    <a-plane id="roof" rotation="90 0 0 " geometry="height:10;width:10;depth:0.2;" position="0 5.5 0" material="
      displacementBias:0;
      displacementScale:0;
      displacementMap: #roof-dis;
      normalMap: #roof-nor;
      roughnessMap: #roof-rou;
      src:#roof-color;
      repeat:4 4;
      ambientOcclusionTextureRepeat: 4 4;
      displacementTextureRepeat: 4 4;
      normalTextureRepeat: 4 4;
      roughnessTextureRepeat: 4 4;">

    </a-plane>

    <!--Väggar-->
    <a-box id="wall-1" geometry="height:6;width:10;depth:0.2;" position="0 2.5 -5" material="
      displacementBias:0;
      displacementScale:0;
      ambientOcclusionMap: #conc-floor-ao;
      displacementMap: #conc-floor-dis;
      normalMap: #conc-floor-nor;
      roughnessMap: #conc-floor-rou;
      src:#conc-floor-color;
      repeat:3 3;
      ambientOcclusionTextureRepeat: 3 3;
      displacementTextureRepeat: 3 3;
      normalTextureRepeat: 3 3;
      roughnessTextureRepeat: 3 3;">

    </a-box>

    <a-box id="wall-2" geometry="height:6;width:10;depth:0.2;" position="0 2.5 5" rotation="0 180 0" material="
      displacementBias:0;
      displacementScale:0;
      ambientOcclusionMap: #conc-floor-ao;
      displacementMap: #conc-floor-dis;
      normalMap: #conc-floor-nor;
      roughnessMap: #conc-floor-rou;
      src:#conc-floor-color;
      repeat:3 3;
      ambientOcclusionTextureRepeat: 3 3;
      displacementTextureRepeat: 3 3;
      normalTextureRepeat: 3 3;
      roughnessTextureRepeat: 3 3;">

    </a-box>

    <a-box id="wall-3" geometry="height:6;width:10;depth:0.2;" position="5 2.5 0" rotation="0 -90 0" material="
      displacementBias:0;
      displacementScale:0;
      ambientOcclusionMap: #conc-floor-ao;
      displacementMap: #conc-floor-dis;
      normalMap: #conc-floor-nor;
      roughnessMap: #conc-floor-rou;
      src:#conc-floor-color;
      repeat:3 3;
      ambientOcclusionTextureRepeat: 3 3;
      displacementTextureRepeat: 3 3;
      normalTextureRepeat: 3 3;
      roughnessTextureRepeat: 3 3;">

    </a-box>

    <a-box id="wall-4" geometry="height:6;width:10;depth:0.2;" position="-5 2.5 -0" rotation="0 90 0" material="
      displacementBias:0;
      displacementScale:0;
      ambientOcclusionMap: #conc-floor-ao;
      displacementMap: #conc-floor-dis;
      normalMap: #conc-floor-nor;
      roughnessMap: #conc-floor-rou;
      src:#conc-floor-color;
      repeat:3 3;
      ambientOcclusionTextureRepeat: 3 3;
      displacementTextureRepeat: 3 3;
      normalTextureRepeat: 3 3;
      roughnessTextureRepeat: 3 3;">

    </a-box>

    <!--Mitten vägg-->
    <a-box id="wall-middle" geometry="height:4;width:3;depth:0.2;" position="0.026 1.72 -0.14" rotation="0 180 0" material="
      displacementBias:0;
      displacementScale:0;
      ambientOcclusionMap: #conc-floor-ao;
      displacementMap: #conc-floor-dis;
      normalMap: #conc-floor-nor;
      roughnessMap: #conc-floor-rou;
      src:#conc-floor-color;
      repeat:3 3;
      ambientOcclusionTextureRepeat: 3 3;
      displacementTextureRepeat: 3 3;
      normalTextureRepeat: 3 3;
      roughnessTextureRepeat: 3 3;">

    </a-box>

    <!--Ram-->
    <a-entity id="frame-1" class="frames" gltf-model="#frames" position="2.9 2.23 -4.85" rotation="0 0 0" scale="1 1 1">
        <a-image src="#art0" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <a-entity id="frame-2" class="frames" gltf-model="#frames" position="0.04 2.23 -4.85" rotation="0 0 0" scale="1 1 1">
        <a-image src="#art1" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <a-entity id="frame-3" class="frames" gltf-model="#frames" position="-2.9 2.23 -4.85" rotation="0 0 0" scale="1 1 1">
        <a-image src="#art2" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <a-entity id="frame-4" class="frames" gltf-model="#frames" position="0.01 2.23 -0.01" rotation="0 0 0" scale="1 1 1">
        <a-image src="#art3" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <a-entity id="frame-5" class="frames" gltf-model="#frames" position="-4.87 2.23 -2.89" rotation="0 90 0" scale="1 1 1">
        <a-image src="#art4" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <a-entity id="frame-6" class="frames" gltf-model="#frames" position="-4.87 2.23 -0.14" rotation="0 90 0" scale="1 1 1">
        <a-image src="#art5" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <a-entity id="frame-7" class="frames" gltf-model="#frames" position="-4.87 2.23 2.7" rotation="0 90 0" scale="1 1 1">
        <a-image src="#art6" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <a-entity id="frame-8" class="frames" gltf-model="#frames" position="4.84 2.23 -3.04" rotation="0 -90 0" scale="1 1 1">
        <a-image src="#art7" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <a-entity id="frame-9" class="frames" gltf-model="#frames" position="4.84 2.23 -0.16" rotation="0 -90 0" scale="1 1 1">
        <a-image src="#art8" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <a-entity id="frame-10" class="frames" gltf-model="#frames" position="4.84 2.23 2.8" rotation="0 -90 0" scale="1 1 1">
        <a-image src="#art9" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <a-entity id="frame-11" class="frames" gltf-model="#frames" position="0.027 2.23 -0.28" rotation="0 180 0" scale="1 1 1">
        <a-image src="#art10" position="0 0 -0.02" scale="1.1 1.1 1.1"></a-image>
    </a-entity>

    <!--Dörr-->
    <a-entity id="door"gltf-model="#doors" position="0.027 -0.07 5.13" rotation="0 0 0" scale="0.02 0.02 0.02"></a-entity>
    <a-entity id="exit" gltf-model="#exit" position="-0.0033 4.11941 4.88822" rotation="" scale="0.2 0.2 0.2"></a-entity>
    <a-plane id="exit-plate" rotation="0 180 0"  position="-0.00997 2.3208 4.89549" scale="3 3 3"
             navigate-on-click="url: @Url.Action("Index","Home")"                   
             @await Html.PartialAsync("/Views/Shared/_CursorAnimation.cshtml")
             material="
                  displacementBias:0;
                  displacementScale:0;
                  ambientOcclusionMap: #conc-floor-ao;
                  displacementMap: #conc-floor-dis;
                  normalMap: #conc-floor-nor;
                  roughnessMap: #conc-floor-rou;
                  src:#conc-floor-color;
                  repeat:3 3;
                  ambientOcclusionTextureRepeat: 3 3;
                  displacementTextureRepeat: 3 3;
                  normalTextureRepeat: 3 3;
                  roughnessTextureRepeat: 3 3;"></a-plane>
    <!--Blommor-->
    <a-entity id="flower-1" gltf-model="#flower" position="-3.5 -0.07 4.3" rotation="0 0 0" scale="0.02 0.02 0.02"></a-entity>
    <a-entity id="flower-2" gltf-model="#flower" position="3.485 -0.07 4.3" rotation="0 0 0" scale="0.02 0.02 0.02"></a-entity>
    <a-entity id="flower-3" gltf-model="#flower" position="-4.29 -0.07 -4.61" rotation="0 90 0" scale="0.02 0.02 0.02"></a-entity>
    <a-entity id="flower-4" gltf-model="#flower" position="4.5 -0.07 -4.61" rotation="0 90 0" scale="0.02 0.02 0.02"></a-entity>

    <!--Lampor-->
    <a-entity id="light" light="type: ambient; intensity:0.5; distance:10;" position="-0.2 2.7 1.5"></a-entity>
    <a-entity id="lamp-1" light="type: point; intensity:0.4; distance:5;" position="-2.7 2.7 2.8"></a-entity>
    <a-entity id="lamp-2" light="type: point; intensity:0.4; distance:5;" position="2.9 2.7 2.8"></a-entity>
    <a-entity id="lamp-3" light="type: point; intensity:0.4; distance:5;" position="2.7 2.7 -2.8"></a-entity>
    <a-entity id="lamp-4" light="type: point; intensity:0.4; distance:5;" position="-2.7 2.7 -2.8"></a-entity>


    <!--Spotlights-->
    <a-entity id="spot-1" light="type: spot; angle: 180; intensity:0.8; distance:5;" position="-2.7 2.5 -4"></a-entity>
    <a-entity id="spot-2" light="type: spot; angle: 180; intensity:0.8; distance:5;" position="-0 2.5 -4"></a-entity>
    <a-entity id="spot-3" light="type: spot; angle: 180; intensity:0.8; distance:5;" position="2.7 2.5 -4"></a-entity>
    <a-entity id="spot-4" light="type: spot; angle: 180; intensity:0.8; distance:5;" position="4.2 2.5 -3"></a-entity>
    <a-entity id="spot-5" light="type: spot; angle: 180; intensity:0.8; distance:5;" position="4.2 2.5 0"></a-entity>
    <a-entity id="spot-6" light="type: spot; angle: 180; intensity:0.8; distance:5;" position="4.2 2.5 2.7"></a-entity>
    <a-entity id="spot-7" light="type: spot; angle: 180; intensity:0.8; distance:5;" position="-4.2 2.5 -3"></a-entity>
    <a-entity id="spot-8" light="type: spot; angle: 180; intensity:0.8; distance:5;" position="-4.2 2.5 -0.28"></a-entity>
    <a-entity id="spot-9" light="type: spot; angle: 180; intensity:0.8; distance:5;" position="-4.2 2.5 2.66"></a-entity>
    <a-entity id="spot-10" light="type: spot; angle: 180; intensity:1.5; distance:5;" position="-0.02 2.5 0.64"></a-entity>
    <a-entity id="spot-11" light="type: spot; angle: 180; intensity:0.8; distance:5;" position="-0.1 2.5 -1.64"></a-entity>

</a-scene>

<script src="~/js/showroom.js">modifyFrames(1)</script>